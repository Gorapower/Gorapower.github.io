<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
     <!--<script src="https://www.parsecdn.com/js/parse-1.6.7.min.js"></script> -->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
    <script src="http://www.parsecdn.com/js/parse-1.6.7.min.js"></script>
    <link href="css/offcanvas.css" rel="stylesheet">

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
<title>MyBindr - Wants</title>
</head>
<body ng-app="AuthApp">
   <div class="container">
       <nav class="navbar navbar-default">
           <div class="container-fluid">
               <div class="navbar-header">
                   <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-console "navbar">
                       <span class="sr-only">Toggle navigation</span>
                       <span class="icon-bar"></span>
                       <span class="icon-bar"></span>
                       <span class="icon-bar"></span>
                   </button>
                   <a class="navbar-brand" href="index.html">Home</a>
               </div>
               <div id="navbar" class="navbar-collapse collapse">
                   <ul class="nav navbar-nav">
                       <li ><a href="bindr.html">Bindr</a></li>
                       <li class="active"><a href="wants.html">Wants</a></li>
                       <!-- <li><a href="settings.html">Settings</a></li> -->
                   </ul>
                   <ul class="nav navbar-nav navbar-right">
                       <li class="active"><a>Log out</a></li>
                   </ul>
               </div>
           </div>
       </nav>
       
       <div class="jumbotron">
           <!-- Image grid-->
           <div class="container">

     <div class="row" id="MyBinder">

         <div class="col-lg-12">
             <h1 class="page-header">Wants</h1>
             <p>Write what you are looking for:</p>
             <textarea  CLASS="foo" rows="20" cols="135" id="WantsTextArea"></textarea>
             
             <style>
                 textarea.foo
                 {
                     resize:none;
                 }

             </style>
             
             <a class="btn btn-primary" onclick="SaveData">Save</a>
      </div>
  
       
 </div>
      <!--Container-->

    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>



    <script type="text/javascript">
        Parse.initialize("8aaaoh6a5ZkjO5SIzzVVtUsFjDBcKsSdUP9lcoIl", "8YxX1Lyyp1iIBE5YEDIZnD8qzRhUg7y1AaSZkTmm");




angular.module('AuthApp', [])
.run(['$rootScope', function($scope) {
  $scope.scenario = 'Log in';
  $scope.currentUser = Parse.User.current();


        // window.query = new Parse.Query("Wants");
        // query.contains("userName", Parse.User.current().attributes["username"]);
        //   document.getElementById("WantsTextArea").value = query.attributes["textWants"];
//         function readTextFile(file){
//     var rawFile = new XMLHttpRequest();
//     rawFile.open("GET", file, false);
//     rawFile.onreadystatechange = function ()
//     {
//         if(rawFile.readyState === 4)
//         {
//             if(rawFile.status === 200 || rawFile.status == 0)
//             {
//                 var allText = rawFile.responseText;
//                 document.getElementById("WantsTextArea").value = allText;
//             }
//         }
//     }
//     rawFile.send(null);
// }
// readTextFile("file://"+Parse.User.current().attributes["username"]+".txt");
// $http({
//   url:'http://bindrapi.herokuapp.com/api/amiibos', 
//   method: "GET",
//   data: {user_id: user.id, draft: true}
//  });
// };


  $scope.logOut = function(form) {
    Parse.User.logOut();
    $scope.currentUser = null;
  };
}]);

    </script>


    <script>

      function SaveData() {
        window.wants = Parse.Object("Wants");
        wants.save({
          nameUser: Parse.User.current().attributes["username"],
          textWants: $("#WantsTextArea").val()
});
      }
      if(!Parse.Session.isCurrentSessionRevocable())
        {
          window.location="index.html";
        }

    </script>
 

</body>
</html>
